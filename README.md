# ğŸ“ Transfer_Systemï½œè¼”ä»å¤§å­¸å­¸ç”Ÿè½‰ç³»è³‡è¨Šæ•´åˆç³»çµ±

æœ¬ç³»çµ±æ˜¯ä¸€å€‹æ•´åˆæ€§å¹³å°ï¼Œå°ˆç‚ºè¼”ä»å¤§å­¸å¤§å­¸ç”Ÿè¨­è¨ˆï¼Œæä¾›å…¨æ ¡è½‰ç³»è³‡è¨ŠæŸ¥è©¢ã€è½‰ç³»æ¢ä»¶æ•´ç†ã€MBTIäººæ ¼æ¸¬é©—æ¨è–¦ï¼Œä»¥åŠå¾Œå°ç®¡ç†ä»‹é¢ç­‰åŠŸèƒ½ã€‚  
ç›®çš„åœ¨æ–¼å”åŠ©å­¸ç”Ÿå¿«é€Ÿæ‰¾åˆ°é©åˆè‡ªå·±çš„ç§‘ç³»ï¼Œä¸¦ç°¡åŒ–è½‰ç³»ç›¸é—œè³‡è¨Šçš„ç²å–æµç¨‹ã€‚

---

## ğŸ§± æŠ€è¡“æ¶æ§‹

| é¡åˆ¥     | æŠ€è¡“                         |
|----------|------------------------------|
| å‰ç«¯     | Next.js 14 + Tailwind CSS    |
| è³‡æ–™åº«   | Supabaseï¼ˆPostgreSQLï¼‰       |
| éƒ¨ç½²å¹³å° | Vercel                        |
| é©—è­‰æ©Ÿåˆ¶ | Cookie-based Admin Login     |
| ç‹€æ…‹ç®¡ç† | React Hooks                  |

---

## ğŸ” ç³»çµ±åŠŸèƒ½

### âœ… å­¸ç”Ÿç«¯åŠŸèƒ½
- ç³»æ‰€è³‡è¨Šå¿«é€ŸæŸ¥è©¢ï¼ˆä¾å­¸ç¾¤åˆ†é¡èˆ‡é—œéµå­—æœå°‹ï¼‰
- é»æ“Šå¡ç‰‡æŸ¥çœ‹è©³ç´°è½‰ç³»æ¢ä»¶ï¼ˆè€ƒè©¦ç§‘ç›®ã€æˆç¸¾æ¯”ä¾‹ã€å‚™è¨»ã€åé¡ï¼‰
- MBTI æ¸¬é©—æ¨è–¦é©åˆèˆ‡ä¸é©åˆçš„ç³»æ‰€ï¼ˆä»¥å¡ç‰‡å‘ˆç¾ä¸¦å¯é»æ“Šè·³è½‰ï¼‰

### ğŸ” ç®¡ç†è€…ç«¯åŠŸèƒ½
- ç™»å…¥é©—è­‰ï¼ˆä½¿ç”¨ Cookie å„²å­˜ç™»å…¥ç‹€æ…‹ï¼‰
- æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤ç³»æ‰€è³‡æ–™
- è¨­å®šè½‰ç³»æ¢ä»¶ï¼ˆè€ƒè©¦ç§‘ç›®ã€æˆç¸¾æ¯”ä¾‹ã€å‚™è¨»ï¼‰
- è¨­å®š MBTI å°æ‡‰é—œä¿‚ï¼ˆé©åˆ/ä¸é©åˆç³»æ‰€ï¼‰
- ç®¡ç†å„å¹´ç´šåé¡ï¼ˆGrade Quotasï¼‰

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
Transfer_System/
â”œâ”€â”€ app/ # æ‰€æœ‰é é¢ï¼ˆåŒ…å«ä¸»ç«™èˆ‡å¾Œå°ï¼‰
â”‚ â”œâ”€â”€ (main)/ # ä½¿ç”¨è€…ç«¯åŠŸèƒ½ï¼ˆæŸ¥è©¢ã€MBTI ç­‰ï¼‰
â”‚ â”œâ”€â”€ (admin)/admin/ # ç®¡ç†ç«¯ä»‹é¢ï¼ˆéœ€ç™»å…¥ï¼‰
â”‚ â””â”€â”€ login/ # ç™»å…¥é é¢
â”œâ”€â”€ components/ # å…±ç”¨å…ƒä»¶ï¼ˆå¡ç‰‡ã€æ¬„ä½ç­‰ï¼‰
â”œâ”€â”€ lib/ # Supabase åˆå§‹åŒ–ã€cookie å·¥å…·ç­‰
â”œâ”€â”€ public/ # éœæ…‹è³‡æº
â”œâ”€â”€ styles/ # Tailwind + è‡ªè¨‚ CSS
â””â”€â”€ README.md
```
---

## âš™ï¸ ç’°å¢ƒè®Šæ•¸è¨­å®š `.env.local`

è«‹ä¾ç…§ä»¥ä¸‹æ ¼å¼å»ºç«‹ `.env.local` æª”æ¡ˆï¼Œä¸¦å¡«å…¥ä½ è‡ªå·±çš„ Supabase å°ˆæ¡ˆè³‡è¨Šï¼š

```env
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
```
---

## ğŸš€ å¿«é€Ÿå•Ÿå‹•æŒ‡å—

# 1. ä¸‹è¼‰å°ˆæ¡ˆ
git clone https://github.com/brianandowen/Transfer_System.git
cd Transfer_System

# 2. å®‰è£ä¾è³´
npm install

# 3. å»ºç«‹ç’°å¢ƒè®Šæ•¸æª”
touch .env.local
ä¸¦å¡«å…¥å°æ‡‰çš„ Supabase è³‡è¨Š

# 4. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run dev

---

## ğŸ§ª æ¸¬è©¦å¸³è™Ÿï¼ˆè‹¥æœ‰æä¾›ï¼‰

```txt
å¸³è™Ÿï¼šadmin
å¯†ç¢¼ï¼šadmin123
```
---

## ğŸ—ƒï¸ è³‡æ–™åº«çµæ§‹è¨­è¨ˆï¼ˆSupabaseï¼‰

æœ¬ç³»çµ±ä½¿ç”¨ Supabase ä½œç‚ºå¾Œç«¯è³‡æ–™åº«ï¼Œä¸»è¦ç‚º PostgreSQL æ¶æ§‹ã€‚å…±è¨­è¨ˆä»¥ä¸‹ 5 å¼µæ ¸å¿ƒè³‡æ–™è¡¨ï¼Œåˆ†åˆ¥å°æ‡‰å‰å°æŸ¥è©¢ã€MBTI æ¨è–¦èˆ‡å¾Œå°ç®¡ç†åŠŸèƒ½ã€‚

### ğŸ”¸ 1. `departments`ï½œç³»æ‰€è³‡æ–™è¡¨

| æ¬„ä½åç¨±         | å‹æ…‹       | èªªæ˜                         |
|------------------|------------|------------------------------|
| `department_id`  | integer    | ä¸»éµï¼Œç³»æ‰€ IDï¼Œè‡ªå‹•éå¢      |
| `department_name`| varchar    | ç³»æ‰€åç¨±ï¼ˆå¦‚ä¸­æ–‡ç³»ï¼‰         |
| `category`       | varchar    | æ‰€å±¬å­¸ç¾¤ï¼ˆå¦‚æ–‡å²å“²å­¸ç¾¤ï¼‰     |

---

### ğŸ”¸ 2. `transfer_conditions`ï½œè½‰ç³»æ¢ä»¶è¡¨

| æ¬„ä½åç¨±         | å‹æ…‹       | èªªæ˜                                   |
|------------------|------------|----------------------------------------|
| `condition_id`   | integer    | ä¸»éµï¼Œè‡ªå‹•éå¢                         |
| `department_id`  | integer    | å¤–éµï¼Œå°æ‡‰ `departments` è¡¨çš„ ID      |
| `exam_type`      | varchar    | è€ƒè©¦é¡å‹ï¼ˆå¦‚å£è©¦ã€æ›¸é¢å¯©æŸ¥ï¼‰           |
| `score_ratio`    | json       | å„é …ç›®æˆç¸¾æ¯”ä¾‹ï¼Œä¾‹å¦‚ `{ "å£è©¦": 100 }` |
| `remarks`        | text       | å‚™è¨»èªªæ˜                               |

> ğŸ’¡ æ›´æ–°è½‰ç³»æ¢ä»¶æ¡ã€Œå…ˆåˆªé™¤å†æ’å…¥ã€æ–¹å¼ï¼Œç¢ºä¿ UNIQUE ç´„æŸä¸è¡çªã€‚

---

### ğŸ”¸ 3. `grade_quotas`ï½œå¹´ç´šåé¡è¡¨

| æ¬„ä½åç¨±         | å‹æ…‹       | èªªæ˜                         |
|------------------|------------|------------------------------|
| `quota_id`       | integer    | ä¸»éµï¼Œè‡ªå‹•ç”¢ç”Ÿ               |
| `department_id`  | integer    | å¤–éµï¼Œå°æ‡‰ç³»æ‰€               |
| `grade`          | integer    | å¹´ç´šï¼ˆä¾‹å¦‚ 2 è¡¨ç¤ºäºŒå¹´ç´šï¼‰    |
| `quota`          | integer    | è©²å¹´ç´šå¯è½‰å…¥åé¡             |

---

### ğŸ”¸ 4. `mbti_recommendations`ï½œMBTI æ¨è–¦å°æ‡‰è¡¨

| æ¬„ä½åç¨±         | å‹æ…‹       | èªªæ˜                                 |
|------------------|------------|--------------------------------------|
| `mbti_type`      | varchar    | MBTI é¡å‹ï¼ˆå¦‚ ENFPï¼‰                |
| `suitable_ids`   | integer[]  | é©åˆç³»æ‰€ ID é™£åˆ—ï¼ˆFK: departmentsï¼‰  |
| `unsuitable_ids` | integer[]  | ä¸é©åˆç³»æ‰€ ID é™£åˆ—                   |

---

### ğŸ”¸ 5. `admin_users`ï½œç®¡ç†å“¡å¸³è™Ÿè¡¨

| æ¬„ä½åç¨±    | å‹æ…‹     | èªªæ˜                |
|-------------|----------|---------------------|
| `id`        | integer  | ä¸»éµ                |
| `username`  | varchar  | ç®¡ç†å“¡å¸³è™Ÿåç¨±      |
| `password`  | varchar  | ç®¡ç†å“¡å¯†ç¢¼ï¼ˆæ˜ç¢¼æˆ–åŠ å¯†ï¼‰ |

---

### ğŸ” é©—è­‰èˆ‡å­˜å–æ©Ÿåˆ¶

- ç®¡ç†å“¡ç™»å…¥ APIï¼š`/api/login`ï¼Œé©—è­‰æˆåŠŸå¾Œè¨­ç½® cookie
- å¾Œå°é é¢ï¼ˆå¦‚ `/admin`ï¼‰é€éä¼ºæœç«¯ `cookies().get()` é©—è­‰ç™»å…¥ç‹€æ…‹
- ä¸€æ—¦æœªé©—è­‰ï¼Œå°‡è‡ªå‹•å°å‘ `/login` é é¢

---

### ğŸ“Š å‰ç«¯åŠŸèƒ½èˆ‡è³‡æ–™è¡¨å°æ‡‰é—œä¿‚

| å‰ç«¯åŠŸèƒ½               | ä½¿ç”¨è³‡æ–™è¡¨                                  |
|------------------------|----------------------------------------------|
| ç³»æ‰€æŸ¥è©¢èˆ‡æ¢ä»¶ç€è¦½     | `departments`ã€`grade_quotas`ã€`transfer_conditions` |
| MBTI æ¸¬é©—æ¨è–¦ç³»æ‰€       | `mbti_recommendations`ã€`departments`         |
| å¾Œå° CRUD ç·¨è¼¯         | æ‰€æœ‰è³‡æ–™è¡¨                                   |
| ç®¡ç†å“¡ç™»å…¥é©—è­‰         | `admin_users`                                 |

---

## ğŸ™‹â€â™‚ï¸ å°ˆæ¡ˆé–‹ç™¼è€…

æœ¬ç³»çµ±ç”±é™³åº­æ¯…ï¼ˆChen Ting-Yiï¼‰ç¨ç«‹é–‹ç™¼å®Œæˆã€‚  
GitHub å¸³è™Ÿï¼š[brianandowen](https://github.com/brianandowen)  
å­¸æ ¡ï¼šè¼”ä»å¤§å­¸ è³‡è¨Šç®¡ç†å­¸ç³»  
å°ˆé¡Œåç¨±ï¼šè¼”ä»å¤§å­¸è½‰ç³»è³‡è¨Šæ•´åˆç³»çµ±ï¼ˆTransfer_Systemï¼‰

å¦‚æœ‰åˆä½œé–‹ç™¼ã€å±•ç¤ºéœ€æ±‚ï¼Œæ­¡è¿è¯çµ¡ã€‚
Mail: brianandowen [at] gmail [dot] com
